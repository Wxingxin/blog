

## 一、大文件上传 / 断点续传类

### 1. 如何设计一个支持「大文件上传 + 断点续传 + 秒传」的前端方案？

**可聊方向：**

* 为什么需要切片上传（文件太大/网络不稳定/提高并发）
* 前端如何做切片（`File.slice` + `SparkMD5`/`crypto.subtle` 计算 hash）
* 秒传：通过文件 hash 向后端询问是否已经上传
* 断点续传：

  * 前端保存已完成切片列表（localStorage/IndexedDB + 服务端返回进度）
  * 重新上传时只传未完成切片
* 并发控制（`Promise.all` + 限制并发数）
* 失败重试策略、超时处理、进度显示

---

### 2. 前端如何感知「上传中断」并从中断处继续？

**考点：**

* `XMLHttpRequest` / `fetch` 的取消（`AbortController`）
* 通过定期同步“已上传切片列表”到本地
* 页面刷新后通过记录（文件 hash + 已上传 chunk 索引）恢复进度
* 与后端约定接口：

  * 查询已上传切片接口
  * 最终合并文件接口

---

### 3. 如何在大文件上传场景中做「安全与校验」？

**考点：**

* 前端限制：文件类型 / 大小 / 数量
* 传输安全：HTTPS、签名 URL、token 校验
* 上传完成后的文件完整性校验（hash 校验）
* 防止伪造 hash 秒传：hash 在服务端重新计算校验

---

## 二、大列表渲染 / 性能类

### 4. 页面上有 10 万条数据要展示，如何设计一个高性能的列表组件？

**考点：**

* 虚拟列表 / 虚拟滚动（只渲染可视区域 + 缓冲区）
* 监听滚动事件用 `requestAnimationFrame` 或节流
* 使用 `IntersectionObserver` 做懒加载
* 计算 item 高度问题：固定高度 vs 动态高度的处理
* diff 优化、`key` 的选择

---

### 5. 如果一个页面渲染非常卡，你会怎么定位和优化？

**考点：**

* Chrome Performance 面板分析：

  * 是 JS 计算问题？频繁 reflow / repaint？还是网络问题？
* JS 优化：

  * 避免在主线程做重 CPU 运算（Web Worker）
  * 事件节流/防抖
* DOM & 样式优化：

  * 减少 DOM 数量
  * 合理使用 `will-change` / `transform`
* 图片优化：懒加载、压缩、合并雪碧图等

---

## 三、权限 / 鉴权 / 路由守卫类

### 6. 单页应用中如何设计「前端路由权限控制」？

**考点：**

* 鉴权信息来源：token / cookie / userInfo
* 路由配置中携带 meta 信息（需要哪些角色）
* 全局路由守卫（如 React Router 自定义 wrapper / Vue Router 导航守卫）
* 未登录跳转登录页，已登录但权限不足跳 403
* 按钮级别 / 功能级权限（基于权限点做组件封装）

---

### 7. 如何设计一个支持「多角色、多租户」的前端权限方案？

**考点：**

* RBAC（基于角色的访问控制）概念
* 前端只做展示控制，不做最终鉴权（后端仍然校验）
* 菜单、路由、按钮显示逻辑与权限体系的映射
* 权限变更后的动态刷新（重新拉取权限配置）

---

## 四、前端监控 / 埋点 / 日志类

### 8. 如果让你设计一个前端埋点 SDK，会怎么设计？

**考点：**

* 埋点类型：

  * PV/UV、曝光、点击、性能（TTFB、FCP、LCP）、错误（JS error、promise reject）
* SDK 基本结构：

  * 初始化方法（配置上报地址、appId、用户信息等）
  * 上报队列、批量上报、失败重试
  * 利用 `sendBeacon`/`fetch`/`img` 上报
* 接入方式：

  * 手动埋点（业务调用 API）
  * 自动埋点（代理全局事件、拦截 XHR/fetch）

---

### 9. 线上有大量用户反馈“白屏、加载很慢”，你如何用前端监控定位问题？

**考点：**

* 监控数据设计：

  * 性能指标（DNS、TCP、TTFB、DOM Ready、Load）
  * 静态资源请求失败率
  * JS error / promise rejection
* 分维度分析：浏览器、系统、地域、版本
* 白屏：记录首屏渲染时间、首个有效节点出现时间
* 可视化：看异常集中在哪一版本 / 哪个接口 / 哪个路由

---

## 五、缓存 / 离线能力类

### 10. 如何设计一个「离线可用」的 Web 应用？（如离线表单填写）

**考点：**

* PWA 基础：

  * Service Worker 拦截请求
  * 静态资源缓存（Cache Storage）
* 数据缓存：

  * IndexedDB / localStorage
* 同步策略：

  * 离线时写本地，恢复网络后再同步到服务端
  * 冲突解决策略（版本号、时间戳）

---

### 11. 说说浏览器缓存策略，如何配合后端做好静态资源缓存优化？

**考点：**

* 强缓存：`Expires` + `Cache-Control: max-age`
* 协商缓存：`ETag` / `Last-Modified`
* 文件名 hash 策略 + `Cache-Control: max-age=31536000, immutable`
* HTML 一般不做强缓存，用来驱动版本更新

---

## 六、前端安全类

### 12. XSS 有哪些类型？前端能做什么防护？

**考点：**

* 反射型 / 存储型 / DOM 型 XSS
* 输入输出转义（尤其是富文本/innerHTML 场景）
* 不信任任何来自 URL / localStorage / 第三方接口的字符串
* CSP（Content Security Policy）策略
* 使用安全的模板引擎，避免直接拼 HTML 字符串

---

### 13. CSRF 是什么？前端能做哪些事情？

**考点：**

* CSRF 原理（跨站请求利用已有登录态）
* 常见防护（后端主导）：

  * CSRF Token
  * SameSite Cookie
* 前端：

  * 非简单请求避免自动带 cookie（改为 token 放 header）
  * 避免敏感操作用 GET

---

## 七、模块化 / 构建 / 微前端类

### 14. 单页应用越来越大，如何拆分和优化首屏加载？

**考点：**

* 路由级别 & 组件级别的代码分割（动态 import、lazy）
* Webpack / Vite splitChunks、按需加载
* 首屏路由单独打包，非首屏延迟加载
* 使用 CDN、HTTP/2、多域名并行下载（或避免过多域名）

---

### 15. 如何设计一个微前端架构下的 JS 资源加载与隔离？

**考点：**

* 微前端方案（qiankun、Module Federation、自研等）
* JS 隔离：

  * 沙箱（`Proxy` + `with` / iframe）
  * 样式隔离（Shadow DOM / 命名空间）
* 子应用之间通信方案（event bus、全局 store、URL、postMessage）
* 路由拆分：主应用路由 vs 子应用内部路由

---

## 八、跨域 / 接口层设计类

### 16. 如果后端暂时不能改 CORS 配置，你有哪些办法“绕过”跨域问题？

**考点：**

* 本地开发：devServer 代理（如 webpack devServer、Vite proxy）
* 正式环境：Nginx 反向代理
* JSONP（了解即可），只适合 GET
* postMessage + 中转页等 hack 方案（可提一下，但说明缺点多）

---

### 17. 你会如何设计一个前端通用的「请求层」？

**考点：**

* 基于 `fetch`/`axios` 封装：

  * 请求/响应拦截器
  * 统一错误处理
  * 统一 loading、全局 toast
* 自动携带 token、自动刷新 token（refresh token 流程）
* 幂等性考虑（重复点击、重试策略）
* 取消请求（AbortController）

---

## 怎么用这份题单复习比较高效？

你可以这样玩：

1. **先按题目自己说一遍答案**（最好大声说，像在对面试官一样）。
2. 每题围绕几个关键词展开，而不是记台词：

   * 比如“大文件上传”就记：切片 → hash → 秒传 → 断点续传 → 并发控制 → 重试。
3. 写一两句话的“电梯答案”，再准备详细展开版：

   * 面试时先给简洁结构，再根据追问深挖。
4. 把你觉得“最虚”的 3–5 题挑出来，我可以帮你**逐题写出「标准结构化回答」**，你背结构+关键点就行。

你可以先挑几道你最关心的发给我，比如：“帮我展开第 1、8、10 题的标准回答”，我直接给你面试现场可用的说法。
