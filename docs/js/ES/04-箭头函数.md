JavaScript çš„**ç®­å¤´å‡½æ•°ï¼ˆArrow Functionsï¼‰**æ˜¯ ES6 å¼•å…¥çš„ä¸€ç§ç®€æ´çš„å‡½æ•°å®šä¹‰è¯­æ³•ï¼Œå®ƒä¸ä¼ ç»Ÿå‡½æ•°ç›¸æ¯”æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼šæ›´çŸ­çš„è¯­æ³•ã€ä¸ç»‘å®šè‡ªå·±çš„ `this`ã€`arguments`ã€`super` æˆ– `new.target`ã€‚ä»¥ä¸‹æ˜¯å…³äºç®­å¤´å‡½æ•°çš„å…¨é¢æ€»ç»“ï¼š

### ä¸€ã€åŸºæœ¬è¯­æ³•

#### 1. **æ— å‚æ•°**

```javascript
const greet = () => "Hello!";
console.log(greet()); // "Hello!"
```

#### 2. **å•ä¸ªå‚æ•°**

```javascript
const square = (x) => x * x;
console.log(square(5)); // 25
```

#### 3. **å¤šä¸ªå‚æ•°**

```javascript
const sum = (a, b) => a + b;
console.log(sum(3, 4)); // 7
```

#### 4. **å‡½æ•°ä½“å¤šè¡Œ**

```javascript
const multiply = (a, b) => {
  const result = a * b;
  return result;
};
```

#### 5. **è¿”å›å¯¹è±¡å­—é¢é‡**

```javascript
const getUser = () => ({ name: "Alice", age: 30 });
console.log(getUser()); // { name: "Alice", age: 30 }
```

### äºŒã€ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°çš„åŒºåˆ«

#### 1. **ä¸ç»‘å®š `this`**

ç®­å¤´å‡½æ•°ç»§æ‰¿è‡ªå¤–å±‚ä½œç”¨åŸŸçš„ `this`ï¼Œè€Œä¸æ˜¯åˆ›å»ºè‡ªå·±çš„ `this`ã€‚

**ä¼ ç»Ÿå‡½æ•°ç¤ºä¾‹**ï¼š

```javascript
function Person() {
  this.age = 0;

  setInterval(function growUp() {
    // è¿™é‡Œçš„ `this` æŒ‡å‘å…¨å±€å¯¹è±¡æˆ– undefinedï¼ˆä¸¥æ ¼æ¨¡å¼ï¼‰
    this.age++; // é”™è¯¯ï¼
  }, 1000);
}
```

**ç®­å¤´å‡½æ•°ä¿®å¤**ï¼š

```javascript
function Person() {
  this.age = 0;

  setInterval(() => {
    // ç®­å¤´å‡½æ•°ç»§æ‰¿ `this` æ¥è‡ª Person å®ä¾‹
    this.age++; // æ­£ç¡®ï¼
  }, 1000);
}
```

#### 2. **ä¸èƒ½ä½¿ç”¨ `arguments` å¯¹è±¡**

ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„ `arguments` å¯¹è±¡ï¼š

```javascript
const showArgs = () => console.log(arguments);
showArgs(1, 2); // æŠ¥é”™ï¼šarguments is not defined
```

#### 3. **ä¸èƒ½ä½¿ç”¨ `yield`ï¼ˆä¸èƒ½ç”¨ä½œç”Ÿæˆå™¨ï¼‰**

ç®­å¤´å‡½æ•°ä¸èƒ½ä½¿ç”¨ `yield` å…³é”®å­—ï¼Œå› æ­¤ä¸èƒ½ç”¨ä½œç”Ÿæˆå™¨å‡½æ•°ã€‚

#### 4. **ä¸èƒ½ä½¿ç”¨ `new` è°ƒç”¨**

ç®­å¤´å‡½æ•°æ²¡æœ‰ `prototype` å±æ€§ï¼Œä¸èƒ½ä½œä¸ºæ„é€ å‡½æ•°ï¼š

```javascript
const Car = () => {};
new Car(); // æŠ¥é”™ï¼šCar is not a constructor
```

#### 5. **æ›´ç®€æ´çš„è¯­æ³•**

ç®­å¤´å‡½æ•°é€‚åˆç®€å•çš„å•è¡Œé€»è¾‘ï¼Œå¦‚æ•°ç»„æ–¹æ³•ä¸­çš„å›è°ƒï¼š

```javascript
const numbers = [1, 2, 3];
const doubled = numbers.map((n) => n * 2); // [2, 4, 6]
```

### ä¸‰ã€å¸¸è§åº”ç”¨åœºæ™¯

#### 1. **æ•°ç»„æ–¹æ³•ä¸­çš„å›è°ƒ**

```javascript
const numbers = [1, 2, 3, 4];
const sum = numbers.reduce((total, n) => total + n, 0); // 10
const evenNumbers = numbers.filter((n) => n % 2 === 0); // [2, 4]
```

#### 2. **ç®€åŒ– Promise é“¾**

```javascript
fetch("https://api.example.com/data")
  .then((response) => response.json())
  .then((data) => console.log(data))
  .catch((error) => console.error(error));
```

#### 3. **React ç»„ä»¶ä¸­çš„äº‹ä»¶å¤„ç†**

```javascript
const MyComponent = () => {
  const handleClick = () => {
    console.log("Clicked!");
  };

  return <button onClick={handleClick}>Click me</button>;
};
```

#### 4. **é—­åŒ…ä¸è¯æ³•ä½œç”¨åŸŸ**

```javascript
function createCounter() {
  let count = 0;
  return () => count++; // ç®­å¤´å‡½æ•°ä¿ç•™å¯¹ count çš„å¼•ç”¨
}

const counter = createCounter();
console.log(counter()); // 0
console.log(counter()); // 1
```

### å››ã€æ³¨æ„äº‹é¡¹

1. **ä¸é€‚åˆæ–¹æ³•å®šä¹‰**

   - å½“éœ€è¦ä½¿ç”¨å¯¹è±¡å†…éƒ¨çš„ `this` æ—¶ï¼Œç®­å¤´å‡½æ•°ä¸é€‚åˆä½œä¸ºå¯¹è±¡æ–¹æ³•ï¼š
     ```javascript
     const person = {
       name: "Alice",
       greet: () => {
         console.log(`Hello, ${this.name}`); // é”™è¯¯ï¼šthis æŒ‡å‘å…¨å±€å¯¹è±¡
       },
     };
     ```

2. **ä¸é€‚åˆéœ€è¦åŠ¨æ€ `this` çš„åœºæ™¯**

   - å¦‚äº‹ä»¶å¤„ç†å‡½æ•°éœ€è¦åŠ¨æ€ `this` æ—¶ï¼Œåº”ä½¿ç”¨ä¼ ç»Ÿå‡½æ•°ï¼š
     ```javascript
     document.getElementById("btn").addEventListener("click", function () {
       console.log(this); // æŒ‡å‘æŒ‰é’®å…ƒç´ 
     });
     ```

3. **æ€§èƒ½è€ƒé‡**
   - ç®­å¤´å‡½æ•°åœ¨å¤§å¤šæ•°åœºæ™¯ä¸‹æ€§èƒ½ä¸ä¼ ç»Ÿå‡½æ•°ç›¸è¿‘ï¼Œä½†åœ¨éœ€è¦é¢‘ç¹åˆ›å»ºçš„åœºæ™¯ä¸‹å¯èƒ½ç•¥æœ‰ä¼˜åŠ¿ï¼ˆå¦‚æ•°ç»„æ–¹æ³•ä¸­çš„å›è°ƒï¼‰ã€‚

### äº”ã€ç®­å¤´å‡½æ•°çš„é™åˆ¶

1. **æ²¡æœ‰ `arguments` å¯¹è±¡**

   - è‹¥éœ€è¦è®¿é—®å‚æ•°ï¼Œå¯ä½¿ç”¨å‰©ä½™å‚æ•°è¯­æ³•ï¼š
     ```javascript
     const showArgs = (...args) => console.log(args);
     showArgs(1, 2, 3); // [1, 2, 3]
     ```

2. **ä¸èƒ½ä½¿ç”¨ `yield`**

   - ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œç”Ÿæˆå™¨å‡½æ•°ï¼Œéœ€ä½¿ç”¨ä¼ ç»Ÿå‡½æ•°è¯­æ³•ï¼š
     ```javascript
     function* generator() {
       yield 1;
       yield 2;
     }
     ```

3. **æ²¡æœ‰ `prototype`**
   - ç®­å¤´å‡½æ•°ä¸èƒ½é€šè¿‡ `new` è°ƒç”¨ï¼Œä¹Ÿæ²¡æœ‰ `prototype` å±æ€§ï¼š
     ```javascript
     const ArrowFunc = () => {};
     console.log(ArrowFunc.prototype); // undefined
     ```

### å…­ã€ç®­å¤´å‡½æ•°ä¸ `this` çš„æ·±å…¥ç†è§£

ç®­å¤´å‡½æ•°æ•è·å…¶æ‰€åœ¨ä¸Šä¸‹æ–‡çš„ `this` å€¼ï¼Œè€Œä¼ ç»Ÿå‡½æ•°çš„ `this` å–å†³äºè°ƒç”¨æ–¹å¼ï¼š

```javascript
const obj = {
  name: "Alice",
  regular: function () {
    console.log(this.name); // "Alice"ï¼ˆå–å†³äºè°ƒç”¨æ–¹å¼ï¼‰
  },
  arrow: () => {
    console.log(this.name); // undefinedï¼ˆç»§æ‰¿è‡ªå…¨å±€ä½œç”¨åŸŸï¼‰
  },
};

obj.regular(); // "Alice"
obj.arrow(); // undefined
```

# ğŸ’¯ğŸ’¯ğŸ’¯ é¢è¯•é¢˜

