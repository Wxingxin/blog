

> ### 📌 一、**仍占据文档流（占位）**

这些方法隐藏后，**元素不可见，但仍保持原来的位置**。

##### 1. `visibility: hidden;`

- 元素不可见
- **仍占据空间**
- 子元素如果设置 `visibility: visible` 能重新显示（有继承特性）

```css
.box {
  visibility: hidden;
}
```

---

##### 2. `opacity: 0;`

- 设置透明度为 0
- **仍占位，可点击**（仍能触发事件！）
- 常用于动画过渡

```css
.box {
  opacity: 0;
}
```

> 注意：`opacity: 0` **仍会响应鼠标事件**，很多场景需要配合 `pointer-events: none`

---

> ### 📌 二、**不占据文档流（不占位）**

隐藏后页面布局不再保留原空间，元素从文档中移除。

##### 1. `display: none;`

- **最彻底的隐藏**
- 不占位
- 不可点击、不渲染
- 不能做 transition 动画（因为直接移除）

```css
.box {
  display: none;
}
```

---

##### 2. `position: absolute / fixed` + 将元素移出可视区域

常用于过渡动画、轮播图等场景。

```css
.box {
  position: absolute;
  left: -9999px;
}
```

---

##### 3. `transform: scale(0);`

- 缩放至不可见
- 实际上仍占位（视觉上像隐藏）
- 可做动画

```css
.box {
  transform: scale(0);
}
```

> 虽然占位，但视觉上“看不见”，常归类于“不占位视觉隐藏”。

---

> ### 📌 三、**仅视觉上隐藏，但仍可被屏幕阅读器读取（无障碍场景）**

用于语义化内容，给视觉不展示但屏幕阅读器可读。

##### 1. `clip-path` / `clip`

```css
.box {
  position: absolute;
  clip: rect(0, 0, 0, 0);
}
```

##### 2. 完整的无障碍隐藏写法（常见于 SR-only 类）

```css
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}
```

---

> ### 📌 四、**CSS 控制可见性但只影响内容显示，不影响盒模型**

##### 1. `overflow: hidden;`

- 仅隐藏超出容器的部分内容
- 不隐藏整个元素
- 用于裁剪内容，而非让元素消失

```css
.box {
  overflow: hidden;
}
```

---

##### 2. `z-index: -1;`

- 元素仍存在，但被堆叠次序压到背后
- 视觉上可能“看不到”，但仍可点击

---

> ### 📌 五、**仅隐藏文本内容**

##### 1. `text-indent: -9999px;`

- 仅隐藏文本
- 图片替换文本中常用（logo SEO）

```css
.text {
  text-indent: -9999px;
}
```

---

> ### 🎯 总结对比表（面试必背）

| 方法                  | 是否占位            | 是否可点击  | 是否渲染           | 可否动画 | 说明           |
| --------------------- | ------------------- | ----------- | ------------------ | -------- | -------------- |
| `display: none`       | ❌ 不占位           | ❌ 不可点击 | ❌ 不渲染          | ❌       | 最彻底隐藏     |
| `visibility: hidden`  | ✔ 占位              | ❌ 不可点击 | ✔ 渲染（但不显示） | ✔        | 可做过渡       |
| `opacity: 0`          | ✔ 占位              | ✔ 可点击    | ✔ 渲染             | ✔        | 透明隐藏       |
| `transform: scale(0)` | ✔ 占位              | ❌ 不可点击 | ✔ 渲染             | ✔        | 缩放隐藏       |
| 移出可视区            | ❌ 不占位（视觉上） | ❌          | ✔                  | ✔        | 动画常用       |
| `clip-path`、SR-only  | ❌                  | ❌          | ✔                  | ❌       | 无障碍读取     |
| `overflow: hidden`    | ✔                   | ✔           | ✔                  | ✔        | 仅隐藏溢出部分 |



# 💯💯💯 关于 position

> ### 面试官开场：我们来聊聊 CSS 的 `position` 属性吧。你了解哪几种？

#### 1. `position: static`

- **一句话定义**：这是 `position` 属性的默认值，元素遵循正常的文档流（Normal Flow）。
- **核心特点**：
  - **在文档流中**：元素占据它应有的空间，就像普通的段落、图片一样，从上到下，从左到右排列。
  - **定位属性无效**：设置 `top`, `right`, `bottom`, `left` 和 `z-index` 属性是**无效**的。
- **面试要点**：
  - `static` 是最基础的状态，它本身没什么特别的，但它是理解其他定位方式的基准。
  - 一个元素的 `position` 默认就是 `static`。

#### 2. `position: relative`

- **一句话定义**：相对定位。元素相对于其**自身在文档流中的原始位置**进行定位。
- **核心特点**：
  - **仍在文档流中**：元素**原始所占的空间会被保留**，不会被其他元素占据。这一点非常非常重要！
  - **定位属性生效**：`top`, `right`, `bottom`, `left` 会使其在视觉上发生偏移。
  - **作为参照物**：它最重要的用途之一是作为 `position: absolute` 元素的定位参照物（即“定位上下文”或“包含块”）。
- **面试要点**：
  - **问**：“`relative` 定位后，原来的位置还占着吗？”
  - **答**：“占着。它只是视觉上发生了偏移，但在文档流中的布局位置没有改变，所以不会影响其他元素的布局。”
  - **场景**：当你想对一个元素进行微调，但又不希望影响到周围元素的布局时，`relative` 是个好选择。更常见的用法是“子绝父相”（子元素 `absolute`，父元素 `relative`）。

#### 3. `position: absolute`

- **一句话定义**：绝对定位。元素相对于其**最近的非 `static` 定位的祖先元素**进行定位。
- **核心特点**：
  - **脱离文档流**：元素会完全从文档流中移除，**不再占据任何空间**。后面的元素会当它不存在一样，占据它的位置。
  - **定位参照物**：
    1.  如果所有祖先元素都是 `static`（默认值），那么它会相对于**初始包含块**（initial containing block）进行定位，通常就是浏览器视口（viewport）。
    2.  如果存在一个或多个非 `static`（即 `relative`, `absolute`, `fixed`, `sticky`）的祖先元素，它会相对于**离它最近的那个祖先元素**的 **内边距** （padding edge）进行定位。
  - **定位属性生效**：通过 `top`, `right`, `bottom`, `left` 来确定最终位置。
- **面试要点**：
  - **问**：“`absolute` 是相对于谁定位的？”
  - **答**：（标准答案如上）“相对于最近的、`position` 值不为 `static` 的祖先元素。如果找不到，就相对于视口。”
  - **问**：“`absolute` 和 `relative` 有什么区别？”
  - **答**：“最核心的区别有两点：1. **是否脱离文档流**：`absolute` 脱离，不占空间；`relative` 不脱离，保留原始空间。2. **定位参照物**：`absolute` 参照非 `static` 祖先；`relative` 参照自身原始位置。”
  - **场景**：模态框（Modal）、下拉菜单、元素的右上角角标等。

#### 4. `position: fixed`

- **一句话定义**：固定定位。元素相对于**浏览器视口**（viewport）进行定位。
- **核心特点**：
  - **脱离文档流**：和 `absolute` 一样，元素会从文档流中移除，不占据空间。
  - **视口参照**：它的定位参照物**永远是浏览器视口**。这意味着即使页面滚动，它也会固定在屏幕的同一个位置。
  - **`transform` 的影响**：有一个特殊情况，如果父元素设置了 `transform` (非 `none`)、`filter`(非 `none`) 或 `perspective` 属性，`fixed` 元素的包含块会变成那个父元素，而不是视口。这是个重要的“坑点”。
- **面试要点**：
  - **问**：“`fixed` 和 `absolute` 有什么区别？”
  - **答**：”它们都脱离文档流。最大的区别在于**定位参照物**不同。`fixed` 始终参照浏览器视口（除非受 `transform` 等属性影响），而 `absolute` 参照非 `static` 的祖先元素。”
  - **场景**：网站顶部的导航栏、回到顶部按钮、侧边栏广告等。

#### 5. `position: sticky`

- **一句话定义**：粘性定位。它是 `relative` 和 `fixed` 的混合体。
- **核心特点**：
  - **阈值（Threshold）**：通过 `top`, `right`, `bottom`, `left` 设置一个阈值。
  - **动态表现**：
    1.  在元素到达视口阈值之前，它的行为和 `position: relative` 一样，遵循文档流。
    2.  当页面滚动，元素的视口位置达到设定的阈值时，它会“粘住”，行为变为 `position: fixed`，固定在那个位置。
  - **受限于父容器**：它的固定效果不会超出其**最近的滚动父容器**（scrolling ancestor）的范围。例如，如果一个 `sticky` 元素在一个设置了 `overflow: scroll` 的 `div` 内部，那么它最多只能在该 `div` 内部“粘性”滚动。
- **面试要点**：
  - **问**：“讲讲你对 `sticky` 定位的理解。”
  - **答**：“`sticky` 可以看作是 `relative` 和 `fixed` 的结合。它在滚动到特定位置前表现为 `relative`，滚动到特定位置后表现为 `fixed`。它必须指定 `top`, `right`, `bottom`, `left` 中的至少一个才会生效。另外，它的固定效果受限于其父容器的滚动范围。”
  - **场景**：表格的表头（滚动时表头固定）、网站的侧边栏索引（滚动时索引固定）。

---

> ### 高频面试对比题

| 特性/属性            | `static` (默认) | `relative`      | `absolute`           | `fixed`    | `sticky`            |
| :------------------- | :-------------- | :-------------- | :------------------- | :--------- | :------------------ |
| **是否脱离文档流**   | 否              | 否              | **是**               | **是**     | 否                  |
| **原始空间是否保留** | 是              | **是**          | 否                   | 否         | 是                  |
| **定位参照物**       | 无              | 自身原始位置    | 最近的非`static`祖先 | 浏览器视口 | 自身原始位置 / 视口 |
| **`top/left`等属性** | 无效            | 生效            | 生效                 | 生效       | 生效                |
| **`z-index`**        | 无效            | 生效            | 生效                 | 生效       | 生效                |
| **常见用途**         | 默认值          | 子绝父相 / 微调 | 弹窗、角标           | 固定导航栏 | 粘性表头/侧边栏     |

---

> ### 总结与拔高

当面试官让你做个总结时，你可以这样说：

“总的来说，这五个 `position` 属性提供了从完全静态到完全动态的布局控制能力。

- `static` 是文档流的基础。
- `relative` 是在文档流基础上进行微调，并且是构建`absolute` 定位上下文的关键。
- `absolute` 和 `fixed` 提供了脱离文档流的强大布局能力，区别在于它们的定位参照物不同，一个是动态的父级，一个是固定的视口。
- `sticky` 则是 `relative` 和 `fixed` 的一个非常实用的结合体，为我们实现滚动粘附效果提供了原生、高效的解决方案。”
