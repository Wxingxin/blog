

## webpack vite 一句话结论（面试先抛这个）

> **webpack 是“先打包再运行”，Vite 是“先运行再按需编译”。**
> 所以 **Vite 开发启动快**，**webpack 生态成熟、可控性强**。


## 一、核心原理区别（⭐重点）

### webpack

* **打包工具（Bundler）**
* 启动时：

  * 从入口文件开始
  * 分析依赖
  * **打包成 bundle**
  * 启动 dev server
* 所有模块都会被处理一遍

👉 **特点**：

* 启动慢（项目越大越慢）
* 但对构建过程掌控力强

---

### Vite

* **基于浏览器原生 ESM**
* 开发时：

  * **不打包**
  * 浏览器请求哪个模块，Vite 就即时编译哪个
* 生产环境：

  * 使用 **Rollup** 打包

👉 **特点**：

* 冷启动极快
* 按需编译，修改响应快



## 二、开发体验对比

| 维度      | webpack | Vite    |
| ------- | ------- | ------- |
| 启动速度    | 慢（秒～分钟） | 极快（毫秒级） |
| 热更新 HMR | 刷新慢     | 非常快     |
| 配置复杂度   | 高       | 低       |
| 上手成本    | 高       | 低       |

**面试加分点**：

> Vite 的 HMR 是 **模块级别更新**，不需要重新打包整个依赖图。



## 三、构建 & 性能

### webpack

* 优点：

  * 构建能力非常强
  * 可做极致优化（code splitting、tree shaking、缓存策略）
* 缺点：

  * 构建时间长
  * 配置复杂

### Vite

* 优点：

  * 生产构建基于 Rollup，**产物质量高**
  * 默认配置就很合理
* 缺点：

  * 极端复杂构建场景下，可定制性略弱于 webpack



## 四、生态与兼容性

### webpack

* 生态：

  * **最成熟**
  * loader / plugin 极其丰富
* 适合：

  * 老项目
  * 复杂工程
  * 需要大量自定义构建逻辑

### Vite

* 生态：

  * 新，但增长快
  * Vue / React 官方推荐
* 注意点：

  * 对 **非 ESM 老库** 兼容性稍差（但已有优化方案）



## 五、典型面试对比点（常问）

### 1️⃣ 为什么 Vite 启动快？

* webpack：先打包全部
* Vite：基于 ESM，**按需编译**



### 2️⃣ Vite 生产环境为什么不用自己那套？

* 开发：追求速度（ESM）
* 生产：追求兼容 & 产物优化
  👉 所以 **用 Rollup**


### 3️⃣ webpack 会被 Vite 取代吗？

**不会完全取代**

* 中小型、新项目：Vite
* 老项目 / 重构成本高 / 构建复杂：webpack



## 六、使用场景总结（⭐背这个）

* **选 Vite**

  * 新项目
  * Vue / React
  * 追求开发体验和速度

* **选 webpack**

  * 老项目维护
  * 复杂构建需求
  * 深度定制打包流程


## 面试 30 秒速答版

> webpack 是传统打包工具，启动时会先分析并打包所有依赖，所以启动慢但生态成熟；
> Vite 利用浏览器原生 ESM，开发阶段按需编译，启动和 HMR 非常快，生产环境用 Rollup 打包，更适合现代前端开发。

